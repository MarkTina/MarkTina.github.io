<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://marktina.github.io/</id>
    <title>Gridea</title>
    <updated>2021-04-27T16:08:15.079Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://marktina.github.io/"/>
    <link rel="self" href="https://marktina.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://marktina.github.io/images/avatar.png</logo>
    <icon>https://marktina.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, Gridea</rights>
    <entry>
        <title type="html"><![CDATA[ç¬”è¶£é˜ç½‘ç«™å°è¯´çˆ¬å–]]></title>
        <id>https://marktina.github.io/post/bi-qu-ge-wang-zhan-xiao-shuo-pa-qu/</id>
        <link href="https://marktina.github.io/post/bi-qu-ge-wang-zhan-xiao-shuo-pa-qu/">
        </link>
        <updated>2021-04-27T15:43:26.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ä¸€-ç›®æ ‡ç½‘ç«™">ä¸€ã€ç›®æ ‡ç½‘ç«™</h1>
<p>www.xbiquge.cc</p>
<h1 id="äºŒ-ç»“æ„åˆ†æ">äºŒã€ç»“æ„åˆ†æ</h1>
<p>è¿™ç§ç±»å‹çš„ç½‘ç«™ï¼Œç»“æ„ä¸ŠåŸºæœ¬ä¸Šå¤§åŒå°å¼‚ï¼Œæ²¡ä»€ä¹ˆéš¾ç‚¹ã€‚</p>
<p>éšä¾¿ç‚¹å‡»ä¸€æœ¬å°è¯´ç›®å½•urlï¼š<br>
https://www.xbiquge.cc/book/52318/</p>
<p>éšä¾¿ç‚¹å‡»ä¸€ç« å°è¯´ç›®å½•urlï¼š<br>
https://www.xbiquge.cc/book/52318/34917539.html</p>
<p>ç›´æ¥çœ‹ç›®å½•çš„ç»“æ„ï¼š<br>
<img src="https://marktina.github.io//post-images/1619538587555.jpg" alt="" loading="lazy"><br>
å¯ä»¥çœ‹è§æ¯ä¸€ç« çš„é“¾æ¥éƒ½éšè—åœ¨ç« èŠ‚å†…çš„<a>æ ‡ç­¾å†…ï¼›</p>
<p>æŸ¥çœ‹æ¯ç« å°è¯´å†…çš„å†…å®¹<br>
<img src="https://marktina.github.io//post-images/1619538744263.jpg" alt="" loading="lazy"><br>
éƒ½æ”¾ç½®åœ¨ä¸€ä¸ª <div>å†…ï¼›</p>
<h1 id="ä¸‰-çˆ¬å–æ€è·¯">ä¸‰ã€çˆ¬å–æ€è·¯</h1>
<p>1.é¦–é€‰è¿›å…¥è¾“å…¥ç›®æ ‡å°è¯´çš„ç›®å½•urlï¼Œè·å–æ‰€æœ‰ç« èŠ‚çš„åœ°å€ï¼Œå¹¶å¯¹ç« èŠ‚åç§°ï¼Œåºä½åšæ ‡è®°ï¼›<br>
2.å¤šçº¿ç¨‹æˆ–è€…å¤šè¿›ç¨‹çˆ¬å–æ¯ç« å°è¯´çš„æ­£æ–‡å†…å®¹ï¼›<br>
3.ç”Ÿæˆæ¯ä¸€ç« èŠ‚çš„ txt æ–‡æœ¬ï¼Œå·²ã€åºä½-ç« èŠ‚åã€‘çš„å‘½åæ ¼å¼ä¿å­˜ï¼›</p>
<h1 id="å››-ä»£ç å®ç°">å››ã€ä»£ç å®ç°</h1>
<pre><code class="language-python">import requests
import bs4
import re
import concurrent.futures
import os


def get_txt(t):
    # å…ƒç»„æ‹†åŒ…
    title, url = t[0], t[1]
    # æ£€éªŒè¯¥å†…å®¹æ˜¯å¦å·²ä¸‹è½½
    if os.path.exists(title):
        print(title, 'å·²å­˜åœ¨')
    # è·å–urlå†…çš„æ­£æ–‡
    else:
        s = requests.get(url, headers).content
        soup = bs4.BeautifulSoup(s, 'lxml')
        txt = soup.find('div', id='content').text
        # æ›¿æ¢ç‰¹æ®Šç¬¦å·
        p1 = re.compile('Â Â Â Â ')
        # æ›¿æ¢æ‰ç¬”è¶£é˜å¹¿å‘Šéƒ¨åˆ†
        p2 = re.compile('ç¬”è¶£é˜.*?ï¼')
        txt = p1.sub('\n    ', txt)
        txt = p2.sub(' ', txt)
        # æ­£æ–‡ç¬¬ä¸€è¡Œå¯¹æ ‡é¢˜åšå¤„ç†
        txt = title.replace('.txt', '') + '\n' + txt
        with open(title, 'w', encoding=&quot;utf-8&quot;) as f:
            f.write(txt)
        print(title, ' ä¸‹è½½å®Œæˆ')


def get_all_url(url='https://www.xbiquge.cc/book/4772/'):
    # æ ¹æ®è¾“å…¥çš„å°è¯´ç›®å½•åœ°å€ï¼Œè·å–æ‰€æœ‰ç« èŠ‚url
    s = requests.get(url, headers).content
    soup = bs4.BeautifulSoup(s, 'lxml')
    url_list = soup.find('dl').find_all('dd')
    u_l = []
    for i in url_list:
            # ä»¥å…ƒç»„çš„æ–¹å¼ä¿å­˜ç« èŠ‚åç§°åŠurl
            try:
                u_l.append((i.find('a')['href'][:-5] + '-' + i.find('a').text.replace(' ', '-') + '.txt', url + i.find('a')['href']))
            except:
                pass
    print('è·å¾—æ‰€æœ‰ç« èŠ‚é“¾æ¥')
    # è¿”å›é›†åˆå»é‡ï¼Œå› ä¸ºç›®å½•å†… æœ€è¿‘è·Ÿæ–°éƒ¨åˆ† å’Œ æ‰€æœ‰ç« èŠ‚éƒ¨åˆ†æœ‰é‡å¤ï¼›
    u_l = set(u_l)
    return u_l


def threading_start_function(url_list):
    # å»ºç«‹çº¿ç¨‹æ± ï¼Œå¹¶åˆ†é…çº¿ç¨‹ä»»åŠ¡
    with concurrent.futures.ThreadPoolExecutor() as executor:
        executor.map(get_txt, url_list)


def main():
    print('--------------------------------------------------\n'
          '1.ä¸‹è½½   https://www.xbiquge.cc/   ç½‘ç«™ä¸‹çš„å›¾ä¹¦ï¼Œæ‰å¯ä½¿ç”¨æœ¬è„šæœ¬\n'
          '2.è‹¥ä¸‹è½½ç« èŠ‚è¿‡å¤šï¼Œé€Ÿåº¦å˜æ…¢ï¼Œå…³é—­ç¨‹åºï¼Œé‡æ–°å¼€å§‹ä¸‹è½½ï¼Œå³å¯ä¸‹è½½å‰©ä½™éƒ¨åˆ†\n'
          '--------------------------------------------------\n')
    mulu = input('\nè¯·åœ¨ä¸‹æ–¹è¾“å…¥ç›®å½•é“¾æ¥\nâ†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“\n')
    u_l = list(get_all_url(mulu))
    print('è·å¾—å°è¯´ç« æ•°: ', len(u_l), '\né©¬ä¸Šå¼€å§‹ä¸‹è½½')
    print(u_l)
    threading_start_function(u_l)
    print('\n\nä¸‹è½½å®Œæˆ\n\n')


if __name__ == '__main__':
    headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36'}
    main()
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://marktina.github.io/post/hello-gridea/</id>
        <link href="https://marktina.github.io/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>